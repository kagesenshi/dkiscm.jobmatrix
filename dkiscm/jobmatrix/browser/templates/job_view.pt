<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="dkiscm.jobmatrix">
      <head>
      </head>
      <body>

          <metal:title fill-slot="content-title">
              <h1>
                  <tal:block replace="context/job_code"/> : 
                  <tal:block replace="context/pretty_title_or_id"/>
              </h1>
          </metal:title>
    <metal:description fill-slot="content-description"></metal:description>

    <metal:main fill-slot="content-core">

        <metal:content-core define-macro="content-core">

            <div style="float:left">
                <div class="dkiscm-jobgrouping">
                    <h4>Job Grouping</h4>
                    <table class="dkiscm-jobgrouping-table">
                        <tr>
                            <td tal:repeat="group view/job_grouping"
                                tal:content="group/title"
                                tal:attributes="class group/css_class"/>
                        </tr>
                    </table>
                </div>

                <div class="dkiscm-education">
                    <h4>Education</h4>
                    <table class="dkiscm-education-table">
                        <tr>
                            <td tal:repeat="education view/education"
                                tal:content="education/title"
                                tal:attributes="class education/css_class">
                            </td>
                        </tr>
                    </table>
                    <div>* <span tal:content="structure view/w/education_description/render"/></div>
                </div>
            </div>
            <div style="float:left;padding-left:20px;">
                <div class="dkiscm-jobdescription">
                    <h4>Job Description</h4>
                    <p tal:content="context/description"></p>
                    <h4>Similar Job Titles</h4>
                    <div tal:content="structure view/w/similar_job_titles/render"></div>

                </div>
            </div>
            <div class="visualClear">&nbsp;</div>
      <table class="dkiscm-skilltable plain">
          <thead>
              <tr>
                  <th>No</th>
                  <th>Description</th>
                  <th tal:repeat="explvl view/exp_levels"
                      tal:content="explvl/title">
                  </th>
              </tr>
          </thead>
          <tbody>
              <tr class="required-row">
                  <td>1</td>
                  <td>Industry Experience</td>
                  <td tal:repeat="exp view/industry_experience"
                          tal:content="exp/title">
                  </td>
              </tr>
              <tr class="required-row">
                  <td>2</td>
                  <td>Industry Certification</td>
                  <tal:block define="vals context/industry_certification|nothing;
                      item python:vals[0] if vals else None">
                      <tal:c condition="item">
                          <td tal:repeat="exp view/exp_levels">
                              <span tal:replace="python:item[exp.value]"/>&nbsp;
                          </td>
                      </tal:c>
                      <tal:c condition="not:item">
                          <td tal:repeat="exp view/exp_levels">&nbsp;</td>
                      </tal:c>

                  </tal:block>

              </tr>

              <tr class="required-row">
                  <td>3</td>
                  <td>Salary Range</td>
                  <tal:block define="vals context/salary_range|nothing;
                      item python:vals[0] if vals else None">
                      <tal:c condition="item">
                          <td tal:repeat="exp view/exp_levels">
                              <span tal:replace="python:item[exp.value]"/>&nbsp;
                          </td>
                      </tal:c>
                      <tal:c condition="not:item">
                          <td tal:repeat="exp view/exp_levels">&nbsp;</td>
                      </tal:c>
                  </tal:block>
              </tr>
          </tbody>
      </table>

      <h2>Technical Skills Competency</h2>
      <table class="dkiscm-skilltable plain">
          <thead>
              <tr>
                  <th>No</th>
                  <th>Skill</th>
                  <th tal:repeat="exp view/exp_levels" tal:content="exp/title"></th>
              </tr>
          </thead>
          <tbody>
              <tal:block repeat="item context/skills_competency">
                  <tr tal:attributes="class python:'required-row' if item['is_required'] else ''">
                      <td tal:define="idx repeat/item/index">
                          <tal:r replace="python:idx + 1"/>
                      </td>
                      <tal:c condition="item">
                          <td><span tal:replace="item/skill"/>&nbsp;</td>
                          <td tal:repeat="exp view/exp_levels">
                              <span tal:replace="python:item[exp.value]"/>&nbsp;
                          </td>
                      </tal:c>
                      <tal:c condition="not:item">
                          <td>&nbsp;</td>
                          <td tal:repeat="exp view/exp_levels">&nbsp;</td>
                      </tal:c>
                  </tr>
              </tal:block>
          </tbody>
      </table>
      <h2>Soft Skills Competency</h2>
      <table class="dkiscm-skilltable plain" 
          tal:define="cols view/softskills_competency_columns">
          <thead>
              <tr>
                  <th>No</th>
                  <th>Skill</th>
                  <th tal:repeat="col cols">
                      <tal:r define="idx repeat/col/index"
                          replace="python:idx + 1"/>
                  </th>
              </tr>
          </thead>
          <tbody>
              <tal:block repeat="item context/softskills_competency">
                  <tr tal:attributes="class python:'required-row' if item['is_required'] else ''">
                      <td tal:define="idx repeat/item/index">
                          <tal:r replace="python:idx + 1"/>
                      </td>
                      <tal:c condition="item">
                          <td><span tal:replace="item/skill"/>&nbsp;</td>
                          <td tal:repeat="col cols">
                              <span tal:replace="python:item[col]"/>&nbsp;
                          </td>
                      </tal:c>
                      <tal:c condition="not:item">
                          <td>&nbsp;</td>
                          <td tal:repeat="col cols">&nbsp;</td>
                      </tal:c>
                  </tr>
              </tal:block>
          </tbody>
      </table>


  </metal:content-core>
</metal:main>

</body>
</html>

